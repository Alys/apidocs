<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Beeminder API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;curl&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="curl">curl</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="this-doc-is-under-development">This doc is under development</h1>

<p>You can find the <a href="https://www.beeminder.com/api">real, published Beeminder API Docs</a> on our website.</p>

<h2 id="i-repeat-the-complete-api-docs-are-at-beeminder-com-api">I repeat, the complete API docs are at <a href="https://www.beeminder.com/api">beeminder.com/api</a></h2>

<h1 id="api-reference">API Reference</h1>

<h2 id="welcome">Welcome</h2>

<p>In case you’re here to automate adding data to Beeminder, there’s a good chance we’ve got you covered with our
<a href="http://beeminder.com/zapier" title="Zapier is a service like IFTTT that connects hundreds of disparate webservices. In the case of Beeminder you can create triggers in other webservices that automatically cause data to be added to Beeminder graphs.">Zapier integration</a>
or our
<a href="http://ifthisMINDthat.com" title="IFTTT = If This Then That">IFTTT integration</a>.
If you’re looking for ideas for things to do with the Beeminder API, we have a
<a href="http://blog.beeminder.com/api%20This%20was%20the%20blog%20post%20that%20originally%20announced%20our%20API%20in%202012%20but%20we've%20updated%20occasionally%20since%20then%20with%20links%20to%20things%20people%20are%20doing%20with%20it&quot;">blog post with lots of examples</a>.
The
<a href="http://forum.beeminder.com/c/tech" title="Yay Discourse.org!">tech category of our forum</a>
is a good place to ask questions and show off what you’re working on.</p>

<p>It’s really important to us that this API be easy for developers to use so please don’t be shy about asking us questions.
Whether you post in
<a href="http://forum.beeminder.com" title="The above link is the Tech subset of the forum; this link is to the main page for the forum">the forum</a>
or email us at support@beeminder.com we’ve invariably found that questions people avoided asking for fear they were dumb turned out to point to things we needed to improve in the API or the documentation.
So lean on us heavily as you’re hacking away with our API — it helps us a lot when you do!</p>

<h2 id="api-endpoint">API Endpoint</h2>

<p>The base URL for all requests is
<code class="prettyprint">https://www.beeminder.com/api/v1</code></p>

<h1 id="authentication">Authentication</h1>

<p>All API endpoints require authentication.
There are two ways to authenticate.</p>

<h2 id="personal-authentication-token">Personal authentication token</h2>

<blockquote>
<p>For example, if your username is <code class="prettyprint">alice</code> and your token is <code class="prettyprint">abc123</code> you can query information about your <code class="prettyprint">weight</code> goal like so:</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://www.beeminder.com/api/v1/users/alice/goals/weight.json?auth_token=abc123
</code></pre>
<p>This authentication pattern is for making API calls just to your own Beeminder account.</p>

<p>After you
<a href="https://www.beeminder.com/users/sign_in">log in to Beeminder</a>,
visit
<a href="https://www.beeminder.com/api/v1/auth_token.json">https://www.beeminder.com/api/v1/auth_token.json</a>
to get your personal auth token.</p>

<p>Append it to API requests you make as an additional GET or POST parameter <code class="prettyprint">auth_token</code>.</p>

<aside class="notice">
Note! a common bit of confusion is mixing up the parameter name. For your personal auth token the parameter name is <code>auth_token</code>. If you try to send a personal auth token as <code>access_token</code> you will get an error. 
</aside>

<h2 id="client-oauth">Client Oauth</h2>

<p>This authentication pattern is for clients (applications) accessing the Beeminder API on a user’s behalf.
Beeminder implements the
<a href="http://oauth.net/">OAuth 2</a>
provider protocol to allow access reasonably securely.
We aren&rsquo;t going to provide a full step-by step tutorial on how to implement an OAuth2 client in this doc.
If you&rsquo;re not familiar with the OAuth2 authentication flow, first go read 
<a href="https://aaronparecki.com/oauth-2-simplified/" title="Aaron literally wrote the book on OAuth2.">this</a>, or 
<a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2" title="Anyone notice that Digital Ocean has consistently great tutorials and docs for things?">this</a>
for a more in-depth background. </p>

<p>Now, once we&rsquo;re all on the same page, here are the things you need to know to build an OAuth2 client with Beeminder.</p>

<h3 id="1-register-your-app">1. Register your app</h3>

<p>Register your app at
<a href="https://www.beeminder.com/apps/new">beeminder.com/apps/new</a>.
Application name and redirect URL are required.
The redirect URL is where the user will be sent after authorizing your app.
You can change this later if you&rsquo;re not sure what it should be right now.</p>

<p>Make sure you copy down the client secret we show you!</p>

<h3 id="2-send-your-users-to-the-beeminder-authorization-url">2. Send your users to the Beeminder authorization URL</h3>

<blockquote>
<p>The base URL for Beeminder authorization is</p>
</blockquote>
<pre class="highlight plaintext"><code>https://www.beeminder.com/apps/authorize
</code></pre>
<blockquote>
<p>Include the following parameters: 
&ldquo;`curl
* <code>client_id</code>: Your application’s client ID.
* <code>redirect_uri</code>: This is where Beeminder will send the user after they have authorized your app.
This <em>must match</em> the redirect URL you supplied when you registered your app above.
Make sure to
<a href="http://en.wikipedia.org/wiki/Percent-encoding" title="Where you replace characters that have special meaning in URLs with a percent sign and their ascii number (or plus signs for spaces)">url-encode</a>
this if it contains any special characters like question marks or ampersands.</li>
<code>response_type</code>: Currently this should just always be set to the value “<code>token</code>”.</li></p>
</blockquote>

<p>https://www.beeminder.com/apps/authorize?client_id=xyz456&amp;redirect_uri=http://foo.com/auth_callback&amp;response_type=token
&rdquo;`</p>

<p>You will need to redirect your user to your Beeminder authorization URL. The base URL is the same for all apps. You will need to add in your own <code class="prettyprint">client_id</code>, <code class="prettyprint">redirect_uri</code>, and <code class="prettyprint">response_type</code> parameters.</p>

<p>You can see a list of your registered apps and retrieve their <code class="prettyprint">client_id</code>&lsquo;s at
<a href="https://www.beeminder.com/apps" title="List of apps you've registered, not to be confused with the list of apps you've authorized to access your Beeminder account, or the list of services you've authorized Beeminder to access">beeminder.com/apps</a></p>

<h3 id="3-receive-and-store-user-s-access-token">3. Receive and store user’s access token</h3>

<blockquote>
<p>For example, we might see for user <code class="prettyprint">alice</code>, the following string appended to the redirect URL: </p>
</blockquote>
<pre class="highlight plaintext"><code> ?access_token=abc123&amp;username=alice
</code></pre>
<p>After the user authorizes your application they’ll be redirected to the <code class="prettyprint">redirect_uri</code> that you specified, with two additional parameters,
<code class="prettyprint">access_token</code> and
<code class="prettyprint">username</code>, in the
<a href="http://en.wikipedia.org/wiki/Query_string" title="The query string is the parameters that come after the question mark in a URL">query string</a>.</p>

<p>You should set up your server to handle this GET request and have it remember each user’s access token.
The access token uniquely identifies the user’s authorization for your app.</p>

<p>The username is provided in this response for convenenience.</p>

<h3 id="4-include-access-token-as-a-parameter">4. Include access token as a parameter</h3>

<blockquote>
<p>You can literally use <code class="prettyprint">me</code> in place of the username for any endpoint and it will be macro-expanded to the username of the authorized user.</p>
</blockquote>
<pre class="highlight plaintext"><code>  GET https://www.beeminder.com/api/v1/me.json?access_token=abc123
</code></pre>
<p>Append the access token as a parameter on any API requests you make on behalf of that user.
For example, your first request will probably be to get information about the
<a href="#user">User</a>
who just authorized your app.</p>

<h3 id="5-optional-de-authorization-callback">5. Optional: De-authorization callback</h3>
<pre class="highlight plaintext"><code>  POST https://www.yourapp.com/beeminder-deauth\ 
  -d 'access_token=abc123'
</code></pre>
<p>If you provide a Post De-Authorization Callback URL when you register your client, we will make a <code class="prettyprint">POST</code> to your endpoint when a user removes your app. The <code class="prettyprint">POST</code> will include the access_token removed in the body of the request.</p>

<h3 id="6-optional-autofetch-callback">6. Optional: Autofetch callback</h3>
<pre class="highlight plaintext"><code>  POST https://www.yourapp.com/beeminder-autofetch\
  -d 'username=alice'
  -d 'slug=weight'
</code></pre>
<p>The autofetch callback URL is also optional.
We will <code class="prettyprint">POST</code> to this URL if provided, including the params <code class="prettyprint">username</code>, and <code class="prettyprint">slug</code> when the user wants new data from you.
E.g., when the user pushes the manual refresh button, or prior to sending alerts to the user, and before derailing the goal at the end of an eep day.</p>

<h1 id="kittens">Kittens</h1>

<h2 id="get-all-kittens">Get All Kittens</h2>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/kittens"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluffums"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calico"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all kittens.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/api/kittens</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_cats</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody></table>

<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>

<h2 id="get-a-specific-kitten">Get a Specific Kitten</h2>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/kittens/2"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific kitten.</p>

<aside class="warning">Inside HTML code blocks like this one, you can&rsquo;t use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/kittens/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to retrieve</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&lsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="curl">curl</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
