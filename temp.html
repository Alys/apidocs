
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>

    <link href="images/favicon" rel="icon" type="image/" />
  </head>

  <body class="temp" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/bee_logo_110.png" class="logo" alt="Bee logo 110" />
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#goal" class="toc-h1 toc-link" data-title="Goal Resource">Goal Resource</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#attributes" class="toc-h2 toc-link" data-title="Goal Resource">Attributes</a>
                  </li>
              </ul>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="goal">Goal Resource</h1>

<p>A Goal object includes everything about a specific goal for a specific user, including the target value and date, the steepness of the yellow brick road, the graph image, and various settings for the goal.</p>
<h3 id='attributes'>Attributes</h3>
<ul>
<li><code>slug</code> (string): The final part of the URL of the goal, used as an identifier. E.g, if user &quot;alice&quot; has a goal at beeminder.com/alice/weight then the goal&#39;s slug is &quot;weight&quot;.</li>
<li><code>updated_at</code> (number): <a href="http://en.wikipedia.org/wiki/Unix_time">Unix timestamp</a> of the last time this goal was updated.</li>
<li><code>title</code> (string): The title that the user specified for the goal. E.g., &quot;Weight Loss&quot;.</li>
<li><code>fineprint</code> (string): The user-provided description of what exactly they are committing to.</li>
<li><code>yaxis</code> (string): The label for the y-axis of the graph. E.g., &quot;Cumulative total hours&quot;.</li>
<li><code>goaldate</code> (number): Unix timestamp (in seconds) of the goal date.</li>
<li><code>goalval</code> (number): Goal value &mdash; the number the yellow brick road will eventually reach. E.g., 70 kilograms.</li>
<li><code>rate</code> (number): The slope of the (final section of the) yellow brick road.</li>
<li><code>graph_url</code> (string): URL for the goal&#39;s graph image. E.g., &quot;http://static.beeminder.com/alice/weight.png&quot;.</li>
<li><code>thumb_url</code> (string): URL for the goal&#39;s graph thumbnail image. E.g., &quot;http://static.beeminder.com/alice/weight-thumb.png&quot;.</li>
<li><code>autodata</code> (string): The name of automatic data source, if this goal has one. Will be null for manual goals.</li>
<li><code>goal_type</code> (string): One of the following symbols:

<ul>
<li><code>hustler</code>: Do More</li>
<li><code>biker</code>: Odometer</li>
<li><code>fatloser</code>: Weight loss</li>
<li><code>gainer</code>: Gain Weight</li>
<li><code>inboxer</code>: Inbox Fewer</li>
<li><code>drinker</code>: Do Less</li>
<li><code>custom</code>: Full access to the underlying goal parameters</li>
</ul></li>
<li><code>losedate</code> (number): Unix timestamp of derailment. When you&#39;ll be off the road if nothing is reported.</li>
<li><code>queued</code> (boolean): Whether the graph is currently being updated to reflect new data.</li>
<li><code>secret</code> (boolean): Whether you have to be logged in as owner of the goal to view it. Default: <code>false</code>.</li>
<li><code>datapublic</code> (boolean): Whether you have to be logged in as the owner of the goal to view the datapoints. Default: <code>false</code>.</li>
<li><code>datapoints</code> (array of <a href="#datapoint">Datapoints</a>): The datapoints for this goal.</li>
<li><code>numpts</code> (number): Number of datapoints.</li>
<li><code>pledge</code> (number): Amount pledged (USD) on the goal.</li>
<li><code>initday</code> (number): Unix timestamp (in seconds) of the start of the yellow brick road.</li>
<li><code>initval</code> (number): The y-value of the start of the yellow brick road.</li>
<li><code>curday</code> (number): Unix timestamp (in seconds) of the end of the yellow brick road, i.e., the most recent (inferred) datapoint.</li>
<li><code>curval</code> (number): The value of the most recent datapoint.</li>
<li><code>lastday</code> (number): Unix timestamp (in seconds) of the last (explicitly entered) datapoint.</li>
<li><code>runits</code> (string): Rate units. One of <code>y</code>, <code>m</code>, <code>w</code>, <code>d</code>, <code>h</code> indicating that the rate of the yellow brick road is yearly, monthly, weekly, daily, or hourly.</li>
<li><code>yaw</code> (number): Good side of the road. I.e., the side of the road (+1/-1 = above/below) that makes you say &quot;yay&quot;.</li>
<li><code>dir</code> (number): Direction the road is sloping, usually the same as yaw.</li>
<li><code>lane</code> (number): Where you are with respect to the yellow brick road (2 or more = above the road, 1 = top lane, -1 = bottom lane, -2 or less = below the road).</li>
<li><code>mathishard</code> (array of 3 numbers): The goaldate, goalval, and rate &mdash; all filled in. (The road dial specifies 2 out of 3 and you can check this if you want Beeminder to do the math for you on inferring the third one.)</li>
<li><code>headsum</code> (string): Summary of where you are with respect to the yellow brick road, e.g., &quot;Right on track in the top lane&quot;.</li>
<li><code>limsum</code> (string): Summary of what you need to do to eke by, e.g., &quot;+2 within 1 day&quot;.</li>
<li><code>kyoom</code> (boolean): Cumulative; plot values as the sum of all those entered so far, aka auto-summing.</li>
<li><code>odom</code> (boolean): Treat zeros as accidental odometer resets.</li>
<li><code>aggday</code> (string): How to aggregate points on the same day, eg, min/max/mean.</li>
<li><code>steppy</code> (boolean): Join dots with purple steppy-style line.</li>
<li><code>rosy</code> (boolean): Show the rose-colored dots and connecting line.</li>
<li><code>movingav</code> (boolean): Show moving average line superimposed on the data.</li>
<li><code>aura</code> (boolean): Show turquoise swath, aka blue-green aura.</li>
<li><code>frozen</code> (boolean): Whether the goal is currently frozen and therefore must be restarted before continuing to accept data.</li>
<li><code>won</code> (boolean): Whether the goal has been successfully completed.</li>
<li><code>lost</code> (boolean): Whether the goal is currently off track.</li>
<li><code>nomercy</code> (boolean): Whether to recommit without the usual week of safety buffer, should you derail.</li>
<li><code>contract</code> (dictionary): Dictionary with two attributes. <code>amount</code> is the amount at risk on the contract, and <code>stepdown_at</code> is a Unix timestamp of when the contract is scheduled to revert to the next lowest pledge amount. <code>null</code> indicates that it is not scheduled to revert.</li>
<li><code>road</code> (array): Array of tuples that can be used to construct the Yellow Brick Road. This field is also known as the road matrix. Each tuple specifies 2 out of 3 of [<code>time</code>, <code>goal</code>, <code>rate</code>]. To construct the road, start with a known starting point (time, value) and then each row of the road matrix specifies 2 out of 3 of {t,v,r} which gives the segment ending at time t. You can walk forward filling in the missing 1-out-of-3 from the (time, value) in the previous row.</li>
<li><code>roadall</code> (array): Like <code>road</code> but with an additional initial row consisting of [<code>initday</code>, <code>initval</code>, null] and an additional final row consisting of [<code>goaldate</code>, <code>goalval</code>, <code>rate</code>].</li>
<li><code>fullroad</code> (array): Like <code>roadall</code> but with the nulls filled in.</li>
<li><code>rah</code> (number): Road value (y-value of the centerline of the yellow brick road) at the akrasia horizon (today plus one week).</li>
<li><code>delta</code> (number): Distance from the centerline of the yellow brick road to today&#39;s datapoint (<code>curval</code>).</li>
<li><code>delta_text</code> (string): The text that describes how far the goal is from each lane of the road &mdash; orange, blue, green. If the goal is on the good side of a given lane, the &quot;?&quot; character will appear.</li>
<li><code>safebump</code> (number): The absolute y-axis number you need to reach to get one additional day of safety buffer.</li>
<li><code>id</code> (string of hex digits): Deprecated. We always use user/slug as the goal identifier in the API.</li>
<li><code>callback_url</code> (string): Callback URL, as
<a href="http://forum.beeminder.com/t/webhook-callback-documentation/313" title="In short: you can add a callback to your own server whenever data is added on Beeminder">discussed in the forum</a>.
WARNING: If different apps change this they&#39;ll step on each other&#39;s toes.</li>
<li><code>description</code> (string): Deprecated. User-supplied description of goal (listed in sidebar of graph page as &quot;Goal Statement&quot;).</li>
<li><code>graphsum</code> (string): Deprecated. Text summary of the graph, not used in the web UI anymore.</li>
<li><code>lanewidth</code> (number): Width of the lanes on either side of the centerline of the yellow brick road, i.e., half the road width.</li>
<li><code>deadline</code> (number): Seconds by which your deadline differs from midnight. Negative is before midnight, positive is after midnight.
Allowed range is -17*3600 to 6*3600 (7am to 6am).</li>
<li><code>leadtime</code> (number): Days before derailing we start sending you reminders. Zero means we start sending them on the eep day, when you will derail later that day.</li>
<li><code>alertstart</code> (number): Seconds after midnight that we start sending you reminders (on the day that you&#39;re scheduled to start getting them, see <code>leadtime</code> above).</li>
<li><code>plotall</code> (boolean): Whether to plot all the datapoints, or only the <code>aggday</code>&#39;d one. So if false then only the official datapoint that&#39;s counted is plotted.</li>
<li><code>last_datapoint</code> (<a href="#datapoint">Datapoint</a>): The last datapoint entered for this goal.</li>
<li><code>integery</code> (boolean): Assume that the units must be integer values.  Used for things like <code>limsum</code>.</li>
<li><code>healthkitmetric</code> (string): If the goal is using apple health integration, what metric is it tracking?</li>
<li><code>roadstatuscolor</code> (string): Color corresponding to the road statues, i.e. red, orange, blue, or green.</li>
<li>`</li>
</ul>

<p>The goal types are shorthand for a collection of settings of more fundamental goal attributes.
Note that changing the goal type of an already-created goal has no effect on those fundamental goal attributes.
The following table lists what those attributes are.</p>

<table><thead>
<tr>
<th>parameter</th>
<th><code>hustler</code></th>
<th><code>biker</code></th>
<th><code>fatloser</code></th>
<th><code>gainer</code></th>
<th><code>inboxer</code></th>
<th><code>drinker</code></th>
</tr>
</thead><tbody>
<tr>
<td><code>yaw</code></td>
<td>1</td>
<td>1</td>
<td>-1</td>
<td>1</td>
<td>-1</td>
<td>-1</td>
</tr>
<tr>
<td><code>dir</code></td>
<td>1</td>
<td>1</td>
<td>-1</td>
<td>1</td>
<td>-1</td>
<td>1</td>
</tr>
<tr>
<td><code>kyoom</code></td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
</tr>
<tr>
<td><code>odom</code></td>
<td>false</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td><code>edgy</code></td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>true</td>
</tr>
<tr>
<td><code>aggday</code></td>
<td>&quot;sum&quot;</td>
<td>&quot;last&quot;</td>
<td>&quot;min&quot;</td>
<td>&quot;max&quot;</td>
<td>&quot;min&quot;</td>
<td>&quot;sum&quot;</td>
</tr>
<tr>
<td><code>steppy</code></td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td><code>rosy</code></td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td><code>movingav</code></td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td><code>aura</code></td>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
</tr>
</tbody></table>

<p>There are four broad, theoretical categories &mdash; called the platonic goal types &mdash; that goals fall into, defined by <code>dir</code> and <code>yaw</code>:</p>

<p><code>MOAR = dir +1 &amp; yaw +1</code>: &quot;go up, like work out more&quot;<br>
<code>PHAT = dir -1 &amp; yaw -1</code>: &quot;go down, like weightloss or gmailzero&quot;<br>
<code>WEEN = dir +1 &amp; yaw -1</code>: &quot;go up less, like quit smoking&quot;<br>
<code>RASH = dir -1 &amp; yaw +1</code>: &quot;go down less, ie, rationing, <a href="http://beeminder.com/d/contacts" title="The Beeminder CEO with an early Beeminder graph to ration his supply of 'daily' contact lenses to last for 2 years, till 2013">for example</a>&quot;</p>

<p>The <code>dir</code> parameter, for which direction the road is expected to go, is mostly just for the above categorization, but is used specifically in the following ways:</p>

<ol>
<li>Where to draw the watermarks (amount pledged and number of safe days)</li>
<li>How to phrase things like &quot;bare min of +123 in 4 days&quot; and the status line (also used in bot email subjects)</li>
<li>Which direction is the optimistic one for the rosy dots algorithm</li>
</ol>

<aside class="notice">
Clearing up confusion about WEEN and RASH goal types: Beeminder generally plots the cumulative total of your metric, such as total cigarettes smoked. So even a quit-smoking goal will slope up (dir&gt;0). Just that it will slope up less and less steeply as you wean yourself. When you actually quit, the slope will be zero. That's why "WEEN" goals are sloping up but good side is down. The opposite case &mdash; sloping down but good side's up &mdash; is called "RASH" and is rarely used. It's for beeminding a number that you want to go down slowly. Maybe cigarettes remaining in a carton that you want to be your last, or bottles of fresh water remaining post-apocalypse &mdash; someday this goal type will be useful!
</aside>

<p>If you just want the dot color, here&#39;s how to infer it from <code>lane</code> and <code>yaw</code>:</p>

<ul>
<li><code>lane*yaw &gt;= -1</code>: on the road or on the good side of it (blue or green)</li>
<li><code>lane*yaw &gt;   1</code>: good side of the road (green dot)</li>
<li><code>lane*yaw ==  1</code>: right lane (blue dot)</li>
<li><code>lane*yaw == -1</code>: wrong lane (orange dot)</li>
<li><code>lane*yaw &lt;= -2</code>: emergency day or derailed (red dot)</li>
</ul>

<p>Finally, the way to tell if a goal has finished successfully is <code>now &gt;= goaldate &amp;&amp; goaldate &lt; losedate</code>.
That is, you win if you hit the goal date before hitting <code>losedate</code>.
You don&#39;t have to actually reach the goal value &mdash; staying on the yellow brick road till the end suffices.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
